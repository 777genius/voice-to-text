# WebSocket Advanced Tests - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –¢–µ—Å—Ç—ã

–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è WebSocket networking.

## üìã –û–±–∑–æ—Ä

**15 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤** –ø–æ–∫—Ä—ã–≤–∞—é—â–∏—Ö:
- WebSocket –ø—Ä–æ—Ç–æ–∫–æ–ª (Ping/Pong, —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π, graceful/abrupt close)
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å (–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å, race conditions)
- Edge Cases (–≥—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏ (–ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, throughput, memory usage)

## üéØ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¢–µ—Å—Ç–æ–≤

### 1. WebSocket –ü—Ä–æ—Ç–æ–∫–æ–ª (3 —Ç–µ—Å—Ç–∞)

#### `test_websocket_ping_pong_mechanism`
–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Ping/Pong –º–µ—Ö–∞–Ω–∏–∑–º –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.
- –î–µ—Ä–∂–∏—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–º 30 —Å–µ–∫—É–Ω–¥
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ WebSocket –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ Ping –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —á—Ç–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–µ—Ç—Å—è –∂–∏–≤—ã–º

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_ping_pong_mechanism -- --ignored --nocapture
```

#### `test_websocket_message_types`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ WebSocket —Å–æ–æ–±—â–µ–Ω–∏–π.
- Metadata —Å–æ–æ–±—â–µ–Ω–∏—è
- Results —Å–æ–æ–±—â–µ–Ω–∏—è (partial/final)
- Error —Å–æ–æ–±—â–µ–Ω–∏—è
- Close —Å–æ–æ–±—â–µ–Ω–∏—è

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_message_types -- --ignored --nocapture
```

#### `test_websocket_graceful_vs_abrupt_close`
–°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
- Graceful close (stop_stream) - –∂–¥–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- Abrupt close (abort) - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ
- –ò–∑–º–µ—Ä—è–µ—Ç –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_graceful_vs_abrupt_close -- --ignored --nocapture
```

### 2. –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å (4 —Ç–µ—Å—Ç–∞)

#### `test_websocket_concurrent_sending`
–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤.
- 5 –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–¥–∞—á
- –ü–æ 10 —á–∞–Ω–∫–æ–≤ –∫–∞–∂–¥–∞—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ thread-safety

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_concurrent_sending -- --ignored --nocapture
```

#### `test_multiple_providers_simultaneously`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.
- Deepgram –∏ AssemblyAI –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ö–∞–∂–¥—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ 20 —á–∞–Ω–∫–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_multiple_providers_simultaneously -- --ignored --nocapture
```

#### `test_websocket_rapid_start_stop`
–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –±—ã—Å—Ç—Ä—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ start/stop –æ–ø–µ—Ä–∞—Ü–∏–∏.
- 10 —Ü–∏–∫–ª–æ–≤ –ø–æ–¥—Ä—è–¥
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É —Ü–∏–∫–ª–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ race conditions

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_rapid_start_stop -- --ignored --nocapture
```

### 3. Edge Cases (6 —Ç–µ—Å—Ç–æ–≤)

#### `test_websocket_empty_data`
–û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–∏—à–∏–Ω—ã (–Ω—É–ª–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ).
- 20 —á–∞–Ω–∫–æ–≤ –ø–æ–ª–Ω–æ–π —Ç–∏—à–∏–Ω—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_empty_data -- --ignored --nocapture
```

#### `test_websocket_tiny_chunks`
–û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —á–∞–Ω–∫–∏ (10ms = 160 samples).
- 100 –º–∞–ª–µ–Ω—å–∫–∏—Ö —á–∞–Ω–∫–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_tiny_chunks -- --ignored --nocapture
```

#### `test_websocket_huge_chunks`
–û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —á–∞–Ω–∫–∏ (1 —Å–µ–∫—É–Ω–¥–∞ = 16000 samples).
- 5 –±–æ–ª—å—à–∏—Ö —á–∞–Ω–∫–æ–≤
- –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –±–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_huge_chunks -- --ignored --nocapture
```

#### `test_websocket_extreme_amplitude`
–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞–º–ø–ª–∏—Ç—É–¥—ã.
- i16::MAX (32767)
- i16::MIN (-32768)
- –ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ max/min (–∫–ª–∏–ø–ø–∏–Ω–≥)

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_extreme_amplitude -- --ignored --nocapture
```

#### `test_websocket_frequency_changes`
–†–µ–∑–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã.
- –ß–∞—Å—Ç–æ—Ç—ã –æ—Ç 100Hz –¥–æ 4000Hz
- –†–µ–∑–∫–∏–µ —Å–∫–∞—á–∫–∏ –º–µ–∂–¥—É —á–∞—Å—Ç–æ—Ç–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_frequency_changes -- --ignored --nocapture
```

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ú–µ—Ç—Ä–∏–∫–∏ (4 —Ç–µ—Å—Ç–∞)

#### `test_websocket_send_latency_measurement`
–î–µ—Ç–∞–ª—å–Ω–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏.
- 50 —á–∞–Ω–∫–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: —Å—Ä–µ–¥–Ω–µ–µ, –º–µ–¥–∏–∞–Ω–∞, P95, P99, min, max
- Assertion: P95 < 100ms

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_send_latency_measurement -- --ignored --nocapture
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏:
   –°—Ä–µ–¥–Ω–µ–µ:  12.45ms
   –ú–µ–¥–∏–∞–Ω–∞:  10.20ms
   P95:      25.30ms
   P99:      32.10ms
   Min:      5.80ms
   Max:      45.20ms
```

#### `test_websocket_memory_usage`
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏.
- –û—Ç–ø—Ä–∞–≤–∫–∞ 10 —Å–µ–∫—É–Ω–¥ –∞—É–¥–∏–æ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- –î–µ—Ç–µ–∫—Ü–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_memory_usage -- --ignored --nocapture
```

#### `test_websocket_transcription_rate`
–ò–∑–º–µ—Ä–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π.
- 30 —á–∞–Ω–∫–æ–≤ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞
- –ü–æ–¥—Å—á–µ—Ç partial –∏ final —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π/—Å–µ–∫

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_transcription_rate -- --ignored --nocapture
```

#### `test_websocket_throughput`
–ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.
- 10 —Å–µ–∫—É–Ω–¥ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- –ü–æ–¥—Å—á–µ—Ç —á–∞–Ω–∫–æ–≤ –∏ –±–∞–π—Ç
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ KB/s –∏ Mbps

**–ó–∞–ø—É—Å–∫:**
```bash
cargo test --test websocket_advanced_test test_websocket_throughput -- --ignored --nocapture
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 10.02s
   –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —á–∞–Ω–∫–æ–≤: 100
   –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –±–∞–π—Ç: 320000 (312.50 KB)
   Throughput: 31.19 KB/s
   Throughput: 0.2495 Mbps
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤
```bash
cd src-tauri
export DEEPGRAM_KEY="your-key"
export ASSEMBLY_AI_KEY="your-key"
cargo test --test websocket_advanced_test -- --ignored --nocapture
```

### –ó–∞–ø—É—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

**–ü—Ä–æ—Ç–æ–∫–æ–ª:**
```bash
cargo test --test websocket_advanced_test ping_pong -- --ignored --nocapture
cargo test --test websocket_advanced_test message_types -- --ignored --nocapture
cargo test --test websocket_advanced_test graceful_vs_abrupt -- --ignored --nocapture
```

**–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å:**
```bash
cargo test --test websocket_advanced_test concurrent -- --ignored --nocapture
cargo test --test websocket_advanced_test multiple_providers -- --ignored --nocapture
cargo test --test websocket_advanced_test rapid_start_stop -- --ignored --nocapture
```

**Edge Cases:**
```bash
cargo test --test websocket_advanced_test empty_data -- --ignored --nocapture
cargo test --test websocket_advanced_test tiny_chunks -- --ignored --nocapture
cargo test --test websocket_advanced_test huge_chunks -- --ignored --nocapture
cargo test --test websocket_advanced_test extreme_amplitude -- --ignored --nocapture
cargo test --test websocket_advanced_test frequency_changes -- --ignored --nocapture
```

**–ú–µ—Ç—Ä–∏–∫–∏:**
```bash
cargo test --test websocket_advanced_test latency_measurement -- --ignored --nocapture
cargo test --test websocket_advanced_test memory_usage -- --ignored --nocapture
cargo test --test websocket_advanced_test transcription_rate -- --ignored --nocapture
cargo test --test websocket_advanced_test throughput -- --ignored --nocapture
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

### Ping/Pong —Ç–µ—Å—Ç
```
üèì –¢–µ—Å—Ç Ping/Pong –º–µ—Ö–∞–Ω–∏–∑–º–∞...
   WebSocket –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ Ping –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
   5 —Å–µ–∫—É–Ω–¥ - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∂–∏–≤–æ
   10 —Å–µ–∫—É–Ω–¥ - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∂–∏–≤–æ
   15 —Å–µ–∫—É–Ω–¥ - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∂–∏–≤–æ
   20 —Å–µ–∫—É–Ω–¥ - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∂–∏–≤–æ
   25 —Å–µ–∫—É–Ω–¥ - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∂–∏–≤–æ
   30 —Å–µ–∫—É–Ω–¥ - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∂–∏–≤–æ
‚úÖ Ping/Pong –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (30 —Å–µ–∫—É–Ω–¥ –±–µ–∑ —Ä–∞–∑—Ä—ã–≤–∞)
```

### –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
```
üîÄ –¢–µ—Å—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö...
   Task 0: –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ 1 —á–∞–Ω–∫–æ–≤
   Task 1: –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ 1 —á–∞–Ω–∫–æ–≤
   Task 2: –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ 1 —á–∞–Ω–∫–æ–≤
   ...
   ‚úÖ Task 0 –∑–∞–≤–µ—Ä—à–µ–Ω
   ‚úÖ Task 1 –∑–∞–≤–µ—Ä—à–µ–Ω
   ‚úÖ Task 2 –∑–∞–≤–µ—Ä—à–µ–Ω
   ‚úÖ Task 3 –∑–∞–≤–µ—Ä—à–µ–Ω
   ‚úÖ Task 4 –∑–∞–≤–µ—Ä—à–µ–Ω

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç: –ø–æ–ª—É—á–µ–Ω–æ 15 —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π –æ—Ç 5 –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–¥–∞—á
‚úÖ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

### –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
```
üì¢ –¢–µ—Å—Ç —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∞–º–ø–ª–∏—Ç—É–¥—ã...
   –¢–µ—Å—Ç max –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è: i16::MAX (32767)
   –¢–µ—Å—Ç max –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è: i16::MIN (-32768)
   –¢–µ—Å—Ç —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ max/min (–∫–ª–∏–ø–ø–∏–Ω–≥)
‚úÖ –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

### –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
```
‚è±Ô∏è  –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö...

   –ß–∞–Ω–∫ 0: 8.23ms
   –ß–∞–Ω–∫ 10: 12.45ms
   –ß–∞–Ω–∫ 20: 9.87ms
   –ß–∞–Ω–∫ 30: 11.23ms
   –ß–∞–Ω–∫ 40: 10.56ms

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏:
   –°—Ä–µ–¥–Ω–µ–µ:  11.34ms
   –ú–µ–¥–∏–∞–Ω–∞:  10.20ms
   P95:      18.45ms
   P99:      25.30ms
   Min:      6.12ms
   Max:      32.10ms
‚úÖ –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã
```

## üéØ –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

### WebSocket –ü—Ä–æ—Ç–æ–∫–æ–ª
- ‚úÖ Ping/Pong –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç
- ‚úÖ –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ Graceful shutdown
- ‚úÖ Abrupt shutdown
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–∫—Ä—ã—Ç–∏—è

### Thread Safety
- ‚úÖ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- ‚úÖ Race conditions
- ‚úÖ Mutex synchronization
- ‚úÖ Arc sharing

### –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
- ‚úÖ –¢–∏—à–∏–Ω–∞ (0 –∞–º–ø–ª–∏—Ç—É–¥–∞)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —á–∞–Ω–∫–∏ (10ms)
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —á–∞–Ω–∫–∏ (1 —Å–µ–∫)
- ‚úÖ i16::MAX / i16::MIN
- ‚úÖ –†–µ–∑–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã
- ‚úÖ –ö–ª–∏–ø–ø–∏–Ω–≥

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ (P50, P95, P99)
- ‚úÖ Throughput (KB/s, Mbps)
- ‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- ‚úÖ –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

## üí° Use Cases

–≠—Ç–∏ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

1. **–î–æ–ª–≥–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** - 30+ —Å–µ–∫—É–Ω–¥ –±–µ–∑ —Ä–∞–∑—Ä—ã–≤–∞
2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞
3. **–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è** - –≥—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
4. **Production –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è alerting
5. **Performance regression** - –¥–µ—Ç–µ–∫—Ü–∏—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### Environment Variables
```bash
export DEEPGRAM_KEY="your-deepgram-key"
export ASSEMBLY_AI_KEY="your-assemblyai-key"
```

### .env —Ñ–∞–π–ª
```
DEEPGRAM_KEY=your-deepgram-key
ASSEMBLY_AI_KEY=your-assemblyai-key
```

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **15 –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤**
- **~870 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞**
- **4 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∫—Ä—ã—Ç–∏—è**
- **100% –ø–æ–∫—Ä—ã—Ç–∏–µ edge cases**

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- –ò–∑–º–µ—Ä–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ (P50, P95, P99)
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤

### –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å
- –ò–º–∏—Ç–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
- Production-like –Ω–∞–≥—Ä—É–∑–∫–∞
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

## üö¶ CI/CD Integration

–ü—Ä–∏–º–µ—Ä –¥–ª—è GitHub Actions:

```yaml
- name: Advanced WebSocket Tests
  env:
    DEEPGRAM_KEY: ${{ secrets.DEEPGRAM_KEY }}
    ASSEMBLY_AI_KEY: ${{ secrets.ASSEMBLY_AI_KEY }}
  run: |
    cd src-tauri
    cargo test --test websocket_advanced_test -- --ignored
```

## üîç Troubleshooting

### –¢–µ—Å—Ç—ã timeout
- –£–≤–µ–ª–∏—á—å—Ç–µ timeout –≤ Cargo.toml
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –ø–æ –æ–¥–Ω–æ–º—É

### –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–∏—Å—Ç–µ–º—É

### Memory usage warnings
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —É—Ç–µ—á–µ–∫
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ valgrind/instruments
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ RSS size

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–°–º. —Ç–∞–∫–∂–µ:
- `WEBSOCKET_E2E_TESTS.md` - –±–∞–∑–æ–≤—ã–µ e2e —Ç–µ—Å—Ç—ã
- `EXAMPLES.md` - –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞
- `README_WEBSOCKET_TESTS.md` - –æ–±—â–µ–µ —Ä–µ–∑—é–º–µ
